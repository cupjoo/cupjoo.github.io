---
layout: post
title: "알고리즘 입출력, 이 정도만 준비하자"
author: cupjoo
categories: [알고리즘, Java]
image: assets/images/2020-02-01/1.png
---

[대회기출로 정리하는 알고리즘 로드맵](https://cupjoo.github.io/대회기출로-정리하는-알고리즘-로드맵)

---

알고리즘 문제에서 요구하는 여러 입출력 형식을 다루기 위해 Java의 입출력 라이브러리 사용법을 정리하고자 한다.

## 입력 (BufferedReader)

입력에서 자주 쓰이는 함수는 다음과 같다.

- Scanner 의 nextLine() / nextInt()
- BuffredReader 의 readLine()

Scanner는 뭐 다들 잘 알테고, BuffredReader의 사용법은 다음과 같다. readLine으로 한 번에 한 줄 전체를 입력받은 뒤 문자열을 파싱해 token으로 나눈다. 파싱에는 StringTokenizer가 자주 사용된다. 사용법은 Scanner가 더 쉽지만 속도 면에서는 BuffredReader가 훨씬 더 빠르다.

```java
// int[N][M]
int N, M;
int[][] board = new int[MAXN][MAXN];

st = new StringTokenizer(br.readLine(), " ");
N = Integer.parseInt(st.nextToken());
M = Integer.parseInt(st.nextToken());
for (int r = 0; r < N; r++) {
    st = new StringTokenizer(br.readLine(), " ");
    for (int c = 0; c < M; c++) {
        board[r][c] = Integer.parseInt(st.nextToken());
    }
}
```

## 출력 (BufferedWriter)

출력에서 자주 쓰이는 함수는 다음과 같다.

- System.out.println()
- BuffredWriter 의 write()

마찬가지로 System.out.println은 설명이 필요 없을 것 같고, BuffredWriter의 사용법은 다음과 같다. 출력할 내용을 write를 사용해 버퍼에 저장하고, flush를 사용해 한 번에 출력한다. 만약 더 이상 출력할 내용이 없다면 flush 대신 close를 사용한다.

```java
BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
for(int i = 0; i < 10; i++)
  br.write(i+" ");
br.newLine();
// br.flush();
br.close(); // 출력
```

그럼 실제로 두 함수는 속도가 얼마나 차이가 날까? 다음 코드로 확인해보자.

![2.png]({{ site.baseurl }}/assets/images/2020-02-01/2.png)

**결과**

![3.png]({{ site.baseurl }}/assets/images/2020-02-01/3.png)

차이가 10배 이상 나는 것 같다. 여기서 한 가지 더 궁금한 게 newLine 함수와 "\n" 도 속도 차이가 날까? 확인해보자.

![4.png]({{ site.baseurl }}/assets/images/2020-02-01/4.png)

**결과**

![5.png]({{ site.baseurl }}/assets/images/2020-02-01/5.png)

생각보다 큰 차이는 없는 것 같다.

**결론**

`입력`에서는 웬만해서는 `BufferedReader`를 쓰자. `출력`에서는 개행문자의 경우 선호에 따라 알아서 쓰면 될 것 같고, 출력해야 할 결과의 개수가 지나치게 `많은 경우`에는 `BufferedWriter`를 쓰고, 1~2줄로 끝나는 경우엔 그냥 `System.out.println`을 사용하자. 버퍼까지 쓰기엔 너무 번거롭다.

## 실전 예제

이번엔 5가지 문제들과 함께 다양한 입력 형태를 다뤄보려 한다. 실제 문제 풀이를 위한 최적화된 입력 방식은 다를 수 있으니 형식만 확인하자.

**선언부**

```java
//BufferedReader br = new BufferedReader(new FileReader("input.txt"));
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
StringTokenizer st;

final int MAXN = 100 + 2;
```

**2차원 int 배열** [(14502 연구소)](https://www.acmicpc.net/problem/14502)

```java
/*
7 7
2 0 0 0 1 1 0
0 0 1 0 1 2 0
0 1 1 0 1 0 0
0 1 0 0 0 0 0
0 0 0 0 0 1 1
0 1 0 0 0 0 0
0 1 0 0 0 0 0
*/

int N, M;
int[][] board = new int[MAXN][MAXN];

st = new StringTokenizer(br.readLine(), " ");
N = Integer.parseInt(st.nextToken());
M = Integer.parseInt(st.nextToken());
for (int r = 0; r < N; r++) {
    st = new StringTokenizer(br.readLine(), " ");
    for (int c = 0; c < M; c++) {
        board[r][c] = Integer.parseInt(st.nextToken());
    }
}
```

**2차원 int 배열 (공백 X)** [(2178 미로 탐색)](https://www.acmicpc.net/problem/2178)

```java
/*
4 6
110110
110110
111111
111101
*/

int N, M;
int[][] board = new int[MAXN][MAXN];

st = new StringTokenizer(br.readLine(), " ");
N = Integer.parseInt(st.nextToken());
M = Integer.parseInt(st.nextToken());
for (int r = 0; r < N; r++) {
    String line = br.readLine();
    for (int c = 0; c < M; c++) {
        board[r][c] = line.charAt(c) - '0';
    }
}
```

**2차원 char 배열** [(1018 체스판 다시 칠하기)](https://www.acmicpc.net/problem/1018)

```java
/*
8 8
WBWBWBWB
BWBWBWBW
WBWBWBWB
BWBBBWBW
WBWBWBWB
BWBWBWBW
WBWBWBWB
BWBWBWBW
*/

int N, M;
char[][] board = new char[MAXN][MAXN];

st = new StringTokenizer(br.readLine(), " ");
N = Integer.parseInt(st.nextToken());
M = Integer.parseInt(st.nextToken());
for (int r = 0; r < N; r++) {
    String line = br.readLine();
    for (int c = 0; c < M; c++) {
        board[r][c] = line.charAt(c);
    }
}
```

**String 배열** [(1181 단어 정렬)](https://www.acmicpc.net/problem/1181)

```java
/*
13
but
i
wont
hesitate
no
more
no
more
it
cannot
wait
im
yours
*/

int N;
String[] line = new String[MAXN];

N = Integer.parseInt(br.readLine());
for (int r = 0; r < N; r++) {
    line[r] = br.readLine();
}
```

**문자열 Tokens** [(1152 단어의 개수)](https://www.acmicpc.net/problem/1152)

```java
// The Curious Case of Benjamin Button

String[] token = new String[MAXN];
token = br.readLine().split(" ");
```
